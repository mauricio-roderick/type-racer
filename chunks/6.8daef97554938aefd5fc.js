(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1028:function(e,t,n){"use strict";n.r(t);var r=n(44),o=n.n(r),a=n(0),u=n.n(a),c=n(279),i=n(1037),s=n(1039),l=n(735),f=n(1044),p=n(1045),m=n(26),y=n(704),h=n.n(y),b=n(198),d=n.n(b),v=n(917),w=n.n(v),g=n(705),E=n(706),O=n(709),P=n(117),_=n(701);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t,n,r,o,a,u){try{var c=e[a](u),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,o)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?T(e):t}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(a,e);var t,n,r=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=N(e);if(t){var o=N(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S(this,n)}}(a);function a(e){var t,n,u,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),n=T(t=r.call(this,e)),u="handleSubmit",i=function(){var e,n=(e=o.a.mark((function e(n){var r,a,u,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.username,a=n.password,e.prev=1,e.next=4,O.a.post(g.a.auth+"/token",{},{auth:{username:r,password:a}});case 4:u=e.sent,i=u.data,t.props.authCompelete(i.accessToken),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),s=401===d()(e.t0,"response.status")?"Incorrect username or password.":E.d.internalError,c.b.error(s);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function u(e){R(a,r,o,u,c,"next",e)}function c(e){R(a,r,o,u,c,"throw",e)}u(void 0)}))});return function(e){return n.apply(this,arguments)}}(),u in n?Object.defineProperty(n,u,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[u]=i,t.state={},t}return t=a,(n=[{key:"render",value:function(){return u.a.createElement(_.a,null,u.a.createElement("h2",{className:w.a.header},"Login to ","TypeRacer"),u.a.createElement(i.a,{name:"normal_login",className:w.a.loginForm,initialValues:{remember:!0},onFinish:this.handleSubmit},u.a.createElement(i.a.Item,{name:"username",rules:[{required:!0,message:"Username is required."}]},u.a.createElement(s.a,{prefix:u.a.createElement(f.a,{className:"site-form-item-icon"}),placeholder:"Username"})),u.a.createElement(i.a.Item,{name:"password",rules:[{required:!0,message:"Password is required."}]},u.a.createElement(s.a,{prefix:u.a.createElement(p.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})),u.a.createElement(l.a,{type:"primary",htmlType:"submit",block:!0},"Log in")))}}])&&j(t.prototype,n),a}(a.PureComponent);t.default=h()([m.g,Object(P.b)(null,(function(e){return{authCompelete:e.authCompelete}}))])(C)},701:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(116),u=n(26),c=n(1031),i=n(908),s=n(704),l=n.n(s),f=n(57),p=n(702),m=n.n(p),y=n(117);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var E=c.a.Header,O=c.a.Content,P=c.a.Footer,_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(u,e);var t,n,r=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}(u);function u(){return b(this,u),r.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){var e=this.props,t=e.children,n=e.isAuthenticated?[{link:f.a.home,label:"Home"},{link:f.a.race,label:"Race"},{link:f.a.logout,label:"Logout"}]:[{link:f.a.login,label:"Login"}];return o.a.createElement(c.a,{className:m.a.layout},o.a.createElement(E,null,o.a.createElement("div",{className:m.a.logo},"TypeRacer"),o.a.createElement(i.a,{theme:"dark",mode:"horizontal",className:m.a.menu},n.map((function(e,t){return o.a.createElement(i.a.Item,{key:t},o.a.createElement(a.b,{to:e.link},e.label))})))),o.a.createElement(O,{className:m.a.content},t),o.a.createElement(P,{className:"text-center"},"TypeRacer"))}}])&&d(t.prototype,n),u}(r.PureComponent);t.a=l()([u.g,Object(y.b)((function(e){return{isAuthenticated:e.isAuthenticated,user:e.user}}),(function(e){return{logout:e.logout}}))])(_)},702:function(e,t,n){e.exports={layout:"_1dTBE",logo:"ngQN5",menu:"_1XKsq",content:"_1ttGe"}},705:function(e,t,n){"use strict";t.a={auth:"/oauth",raceHistory:"/private/race-history",randomText:"/random-text"}},706:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return i}));var r={client:"M/D/YY hh:mm a z",api:"YYYY-MM-DDTHH:mm:ssZ"},o={internalError:"Something went wrong."},a={notifKey:"GLOBAL_NOTIF"},u=60,c=3,i=["","Go!","Set","Ready"]},709:function(e,t,n){"use strict";var r=n(44),o=n.n(r),a=n(739),u=n.n(a),c=n(198),i=n.n(c),s=n(280),l=n(1040),f=n(705),p=n(706);function m(e,t,n,r,o,a,u){try{var c=e[a](u),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,o)}var y=u.a.create({baseURL:"http://localhost:8080/"});y.interceptors.request.use((function(e){var t=localStorage.getItem("accessToken");return t&&(y.unauthorizedNotif=!1,s.a.close(p.c.notifKey),e.headers.Authorization="Bearer ".concat(t)),e})),y.interceptors.response.use((function(e){return e}),function(){var e,t=(e=o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i()(t,"response.status"),i()(t,"response.config.url"),401===n&&f.a.oauthToken,n>=500&&l.a(t),e.abrupt("return",Promise.reject(t));case 5:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function u(e){m(a,r,o,u,c,"next",e)}function c(e){m(a,r,o,u,c,"throw",e)}u(void 0)}))});return function(e){return t.apply(this,arguments)}}()),t.a=y},917:function(e,t,n){e.exports={loginForm:"_2Reci",header:"_1kxmP"}}}]);
//# sourceMappingURL=6.8daef97554938aefd5fc.js.map