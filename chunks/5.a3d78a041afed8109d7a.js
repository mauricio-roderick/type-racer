(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{1005:function(e,t,r){e.exports={raceBox:"_32E-0",startBtn:"_32LkQ",longText:"eHiVo",currentWord:"Grj7I",ticker:"_1RGAT",time:"_2oI4q",meter:"_1t9IO",countDownTimer:"vktMP",textBox:"_1zdVx",hasTypo:"HvP3n",raceHistoryLoader:"uwZFY"}},1011:function(e,t,r){var n={"./af":770,"./af.js":770,"./ar":771,"./ar-dz":772,"./ar-dz.js":772,"./ar-kw":773,"./ar-kw.js":773,"./ar-ly":774,"./ar-ly.js":774,"./ar-ma":775,"./ar-ma.js":775,"./ar-sa":776,"./ar-sa.js":776,"./ar-tn":777,"./ar-tn.js":777,"./ar.js":771,"./az":778,"./az.js":778,"./be":779,"./be.js":779,"./bg":780,"./bg.js":780,"./bm":781,"./bm.js":781,"./bn":782,"./bn-bd":783,"./bn-bd.js":783,"./bn.js":782,"./bo":784,"./bo.js":784,"./br":785,"./br.js":785,"./bs":786,"./bs.js":786,"./ca":787,"./ca.js":787,"./cs":788,"./cs.js":788,"./cv":789,"./cv.js":789,"./cy":790,"./cy.js":790,"./da":791,"./da.js":791,"./de":792,"./de-at":793,"./de-at.js":793,"./de-ch":794,"./de-ch.js":794,"./de.js":792,"./dv":795,"./dv.js":795,"./el":796,"./el.js":796,"./en-au":797,"./en-au.js":797,"./en-ca":798,"./en-ca.js":798,"./en-gb":799,"./en-gb.js":799,"./en-ie":800,"./en-ie.js":800,"./en-il":801,"./en-il.js":801,"./en-in":802,"./en-in.js":802,"./en-nz":803,"./en-nz.js":803,"./en-sg":804,"./en-sg.js":804,"./eo":805,"./eo.js":805,"./es":806,"./es-do":807,"./es-do.js":807,"./es-mx":808,"./es-mx.js":808,"./es-us":809,"./es-us.js":809,"./es.js":806,"./et":810,"./et.js":810,"./eu":811,"./eu.js":811,"./fa":812,"./fa.js":812,"./fi":813,"./fi.js":813,"./fil":814,"./fil.js":814,"./fo":815,"./fo.js":815,"./fr":816,"./fr-ca":817,"./fr-ca.js":817,"./fr-ch":818,"./fr-ch.js":818,"./fr.js":816,"./fy":819,"./fy.js":819,"./ga":820,"./ga.js":820,"./gd":821,"./gd.js":821,"./gl":822,"./gl.js":822,"./gom-deva":823,"./gom-deva.js":823,"./gom-latn":824,"./gom-latn.js":824,"./gu":825,"./gu.js":825,"./he":826,"./he.js":826,"./hi":827,"./hi.js":827,"./hr":828,"./hr.js":828,"./hu":829,"./hu.js":829,"./hy-am":830,"./hy-am.js":830,"./id":831,"./id.js":831,"./is":832,"./is.js":832,"./it":833,"./it-ch":834,"./it-ch.js":834,"./it.js":833,"./ja":835,"./ja.js":835,"./jv":836,"./jv.js":836,"./ka":837,"./ka.js":837,"./kk":838,"./kk.js":838,"./km":839,"./km.js":839,"./kn":840,"./kn.js":840,"./ko":841,"./ko.js":841,"./ku":842,"./ku.js":842,"./ky":843,"./ky.js":843,"./lb":844,"./lb.js":844,"./lo":845,"./lo.js":845,"./lt":846,"./lt.js":846,"./lv":847,"./lv.js":847,"./me":848,"./me.js":848,"./mi":849,"./mi.js":849,"./mk":850,"./mk.js":850,"./ml":851,"./ml.js":851,"./mn":852,"./mn.js":852,"./mr":853,"./mr.js":853,"./ms":854,"./ms-my":855,"./ms-my.js":855,"./ms.js":854,"./mt":856,"./mt.js":856,"./my":857,"./my.js":857,"./nb":858,"./nb.js":858,"./ne":859,"./ne.js":859,"./nl":860,"./nl-be":861,"./nl-be.js":861,"./nl.js":860,"./nn":862,"./nn.js":862,"./oc-lnc":863,"./oc-lnc.js":863,"./pa-in":864,"./pa-in.js":864,"./pl":865,"./pl.js":865,"./pt":866,"./pt-br":867,"./pt-br.js":867,"./pt.js":866,"./ro":868,"./ro.js":868,"./ru":869,"./ru.js":869,"./sd":870,"./sd.js":870,"./se":871,"./se.js":871,"./si":872,"./si.js":872,"./sk":873,"./sk.js":873,"./sl":874,"./sl.js":874,"./sq":875,"./sq.js":875,"./sr":876,"./sr-cyrl":877,"./sr-cyrl.js":877,"./sr.js":876,"./ss":878,"./ss.js":878,"./sv":879,"./sv.js":879,"./sw":880,"./sw.js":880,"./ta":881,"./ta.js":881,"./te":882,"./te.js":882,"./tet":883,"./tet.js":883,"./tg":884,"./tg.js":884,"./th":885,"./th.js":885,"./tk":886,"./tk.js":886,"./tl-ph":887,"./tl-ph.js":887,"./tlh":888,"./tlh.js":888,"./tr":889,"./tr.js":889,"./tzl":890,"./tzl.js":890,"./tzm":891,"./tzm-latn":892,"./tzm-latn.js":892,"./tzm.js":891,"./ug-cn":893,"./ug-cn.js":893,"./uk":894,"./uk.js":894,"./ur":895,"./ur.js":895,"./uz":896,"./uz-latn":897,"./uz-latn.js":897,"./uz.js":896,"./vi":898,"./vi.js":898,"./x-pseudo":899,"./x-pseudo.js":899,"./yo":900,"./yo.js":900,"./zh-cn":901,"./zh-cn.js":901,"./zh-hk":902,"./zh-hk.js":902,"./zh-mo":903,"./zh-mo.js":903,"./zh-tw":904,"./zh-tw.js":904};function a(e){var t=o(e);return r(t)}function o(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=o,e.exports=a,a.id=1011},1018:function(e,t,r){e.exports={userProfile:"_59cAg"}},1042:function(e,t,r){"use strict";r.r(t),r.d(t,"Race",(function(){return Ne}));var n=r(44),a=r.n(n),o=r(0),c=r.n(o),s=r(280),i=r(279),u=r(1039),l=r(1020),f=r(1019),p=r(1043),m=r(735),y=r(1047),h=r(1046),d=r(26),b=r(21),v=r.n(b),j=r(704),g=r.n(j),w=r(198),O=r.n(w),E=r(1005),S=r.n(E),k=r(705),T={IDLE:"IDLE",ONGOING:"ONGOING",COUNTDOWN:"COUNTDOWN",END:"END"},x=r(706),P=r(709),N=r(117),R=r(701),D=r(1035),_=r(1038),C=r(1006),I=r.n(C),z=r(698),H=r.n(z);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){V(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function B(e,t,r,n,a,o,c){try{var s=e[o](c),i=s.value}catch(e){return void r(e)}s.done?t(i):Promise.resolve(i).then(n,a)}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?Y(e):t}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(u,e);var t,r,n,o,s=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=q(e);if(t){var a=q(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return W(this,r)}}(u);function u(){var e;M(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return V(Y(e=s.call.apply(s,[this].concat(r))),"state",{raceHistory:[]}),V(Y(e),"pageChangeHanlder",(function(t){e.props.history.replace("?page="+t)})),e}return t=u,(r=[{key:"componentDidMount",value:function(){this.getRaceHistory()}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.refresh;t.location.search===e.location.search&&r===e.refresh||this.getRaceHistory()}},{key:"getRaceHistory",value:(n=a.a.mark((function e(){var t,r,n,o,c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=I.a.parse(this.props.location.search),r=t.page,r=isNaN(r)?void 0:r-1,this.setState({fetchHistoryStatus:"LOADING"}),n={fetchHistoryStatus:"IDLE"},e.prev=4,e.next=7,P.a.get(k.a.raceHistory,{params:{page:r}});case 7:o=e.sent,c=o.data,s=c.meta.totalRecords,n.raceHistory=c.raceHistory,n.totalRaceHistory=s,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),i.b.error("Failed to retrieve race history.");case 17:this.setState(n);case 18:case"end":return e.stop()}}),e,this,[[4,14]])})),o=function(){var e=this,t=arguments;return new Promise((function(r,a){var o=n.apply(e,t);function c(e){B(o,r,a,c,s,"next",e)}function s(e){B(o,r,a,c,s,"throw",e)}c(void 0)}))},function(){return o.apply(this,arguments)})},{key:"render",value:function(){var e=this.state,t=e.fetchHistoryStatus,r=e.raceHistory,n=e.totalRaceHistory,a=I.a.parse(this.props.location.search,{parseNumbers:!0}).page,o=[{title:"Text Length",dataIndex:"textLength",align:"center",width:"15%"},{title:"Total Time(seconds)",dataIndex:"time",align:"center",width:"15%"},{title:"Speed(wpm)",dataIndex:"wpm",align:"center",width:"20%"},{title:"Date & Time",dataIndex:"timestamp",render:function(e){return H()(e).format(x.b.client)},width:"30%"}],s={hideOnSinglePage:!0,total:n,position:["bottomCenter"],pageSize:10,onChange:this.pageChangeHanlder,current:a};return c.a.createElement(D.a,{title:function(){return c.a.createElement(_.a.Title,{level:4},"Race History")},columns:o,loading:"LOADING"===t,dataSource:r.map((function(e,t){return G(G({},e),{},{key:t})})),pagination:s})}}])&&F(t.prototype,r),u}(o.PureComponent),J=Object(d.g)(K),Q=function(e){var t=e.seconds,r=Math.floor(t/60).toString(),n=(t%60).toString();return c.a.createElement("span",null,r.padStart(2,"0"),":",n.padStart(2,"0"))},Z=r(1036),X=r(1041),$=r(1044),ee=r(1018),te=r.n(ee);function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(r),!0).forEach((function(t){pe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function oe(e,t,r,n,a,o,c){try{var s=e[o](c),i=s.value}catch(e){return void r(e)}s.done?t(i):Promise.resolve(i).then(n,a)}function ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function se(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ie(e,t){return(ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ue(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?le(e):t}function le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var me=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ie(e,t)}(u,e);var t,r,n,o,s=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=fe(e);if(t){var a=fe(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return ue(this,r)}}(u);function u(){var e;ce(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return pe(le(e=s.call.apply(s,[this].concat(r))),"state",{}),e}return t=u,(r=[{key:"componentDidMount",value:function(){this.getStats()}},{key:"getStats",value:(n=a.a.mark((function e(){var t,r,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({fetchStatStatus:"LOADING"}),t={fetchStatStatus:"IDLE"},e.prev=2,e.next=5,P.a.get(k.a.raceHistory+"/24-hour-stats");case 5:r=e.sent,n=r.data,t=ae(ae({},t),n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),i.b.error("Failed to user stats. Please try reloading the page.");case 13:this.setState(t);case 14:case"end":return e.stop()}}),e,this,[[2,10]])})),o=function(){var e=this,t=arguments;return new Promise((function(r,a){var o=n.apply(e,t);function c(e){oe(o,r,a,c,s,"next",e)}function s(e){oe(o,r,a,c,s,"throw",e)}c(void 0)}))},function(){return o.apply(this,arguments)})},{key:"render",value:function(){var e=this.props.user,t=this.state,r=t.averageWpm,n=t.averageTime,a=t.coverageDate,o=c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,c.a.createElement(h.a,{key:"wpm"})," Average wpm"),r," wpm"),s=c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,c.a.createElement(y.a,{key:"wpm"})," Average Time"),n," second(s)");return c.a.createElement(Z.a,{className:te.a.userProfile,actions:[o,s]},c.a.createElement(Z.a.Meta,{avatar:c.a.createElement(X.a,{size:64,icon:c.a.createElement($.a,null)}),title:e.username,description:c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,"Name: ",e.firstName," ",e.lastName),c.a.createElement("div",null,"Ave. Stats Coverage: ",H()(a).format(x.b.client)))}))}}])&&se(t.prototype,r),u}(o.PureComponent),ye=Object(N.b)((function(e){return{user:e.user}}))(me);function he(e){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function de(e){return function(e){if(Array.isArray(e))return be(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return be(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?be(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ve(e,t,r,n,a,o,c){try{var s=e[o](c),i=s.value}catch(e){return void r(e)}s.done?t(i):Promise.resolve(i).then(n,a)}function je(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function c(e){ve(o,n,a,c,s,"next",e)}function s(e){ve(o,n,a,c,s,"throw",e)}c(void 0)}))}}function ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function we(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(r),!0).forEach((function(t){Pe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ge(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Se(e,t){return(Se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ke(e,t){return!t||"object"!==he(t)&&"function"!=typeof t?Te(e):t}function Te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xe(e){return(xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Se(e,t)}(b,e);var t,r,n,o,d=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=xe(e);if(t){var a=xe(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return ke(this,r)}}(b);function b(){var e;Oe(this,b);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Pe(Te(e=d.call.apply(d,[this].concat(r))),"state",we(we({},e.defaultState),{},{raceHistory:[]})),Pe(Te(e),"initRace",je(a.a.mark((function t(){var r,n,o,c,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState(we(we({},e.defaultState),{},{gameInitStatus:"LOADING"})),r={gameInitStatus:"IDLE"},t.prev=2,t.next=5,e.getTextValue();case 5:n=t.sent,o=n.data,c=o.text,s=c.split(" "),r.longText=c,r.words=s.map((function(e,t){return t!==s.length-1?e+" ":e})),r.raceStatus=T.COUNTDOWN,e.countDown(),t.next=17;break;case 15:t.prev=15,t.t0=t.catch(2);case 17:e.setState(r);case 18:case"end":return t.stop()}}),t,null,[[2,15]])})))),Pe(Te(e),"countDown",(function(){e.setState((function(t){return{countDownTimer:t.countDownTimer?t.countDownTimer-1:e.props.raceCountdown}}),(function(){e.state.countDownTimer?e.raceTimer=setTimeout(e.countDown,1e3):e.startRace()}))})),Pe(Te(e),"updateRaceTime",(function(){e.setState((function(e){var t=e.remainingTime;return{remainingTime:--t}}),(function(){e.state.remainingTime>0?e.raceTimer=setTimeout(e.updateRaceTime,1e3):e.endRace()}))})),Pe(Te(e),"userInputOnChange",(function(t){var r=t.target.value;e.setState((function(t){var n=t.wordToMatch,a=t.words,o=[],c={userInput:r};if(r===n){var s=[].concat(de(e.state.wordsCompleted),[n]);c={userInput:"",matchedChars:[],wordsCompleted:s,wordToMatch:a[s.length]}}else{var i=n.split("");r.split("").every((function(e,t){var r=e===i[t];return r&&o.push(e),r})),o.length>e.state.matchedChars.length&&(c.matchedChars=o)}return c}),(function(){var t=e.state,r=t.wordsCompleted,n=t.words;r.length===n.length&&e.endRace()}))})),e}return t=b,(r=[{key:"defaultState",get:function(){return{longText:"",userInput:"",wordToMatch:"",words:[],wordsCompleted:[],matchedChars:[],countDownTimer:0,raceStatus:T.IDLE,gameInitStatus:"IDLE"}}},{key:"componentWillUnmount",value:function(){clearTimeout(this.raceTimer)}},{key:"getTextValue",value:(o=je(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.get(k.a.randomText,{params:{words:30}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})},{key:"saveRaceResult",value:(n=je(a.a.mark((function e(){var t,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.user,r=this.getRaceStats(),e.prev=2,e.next=5,P.a.post(k.a.raceHistory,we(we({},r),{},{user:t._id}));case 5:s.a.success({message:"Race successfully Saved",description:"Your new record has been added to your race history."}),this.setState({historyRefresh:Date.now()}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),i.b.warning("Failed to save race result.");case 12:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(){return n.apply(this,arguments)})},{key:"startRace",value:function(){var e=this;this.setState((function(t){return{wordToMatch:t.words[0],raceStatus:T.ONGOING,remainingTime:e.props.raceTimeLimit+1}}),(function(){document.querySelector("#text-box").focus(),e.updateRaceTime()}))}},{key:"endRace",value:function(){clearTimeout(this.raceTimer),this.setState({raceStatus:T.END}),this.saveRaceResult()}},{key:"getRaceStats",value:function(){var e=this.state,t=e.wordsCompleted,r=e.matchedChars,n=e.remainingTime,a=void 0===n?0:n,o=this.props.raceTimeLimit,c=t.join("")+r.join(""),s=o-a,i=c.length?c.length/5*60/s:0;return{wpm:Math.round(i),time:s,textLength:c.length}}},{key:"currentWord",value:function(){var e=this.state,t=e.wordToMatch,r=void 0===t?"":t,n=e.userInput,a=e.words,o=e.wordsCompleted,s=r.trim(),i="ant-typography-success",u=o.length<a.length-1?" ":"";if(n){var l=r.split(""),f=0;n.split("").every((function(e,t){var r=e===l[t];return r?f++:i="ant-typography-danger",r}));var p=(s=s.split("")).splice(0,f),m=s.splice(0,n.length-p.length);s=c.a.createElement(c.a.Fragment,null,c.a.createElement("b",null,p),c.a.createElement("span",{className:S.a.unmatched},m),s)}var y=de(a).splice(o.length+1);return c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"ant-typography ant-typography-success"},o),c.a.createElement("span",{className:v()(S.a.currentWord,"ant-typography",i)},s),u,y)}},{key:"renderRaceBox",value:function(){var e=T.ONGOING,t=T.END,r=this.state,n=r.wordToMatch,a=void 0===n?"":n,o=r.userInput,s=r.raceStatus,i=r.matchedChars.length<o.length;return c.a.createElement("div",{className:v()({"d-none":s!==e})},c.a.createElement("div",{className:S.a.longText},this.currentWord()),s!==t&&c.a.createElement(u.a,{value:o,onChange:this.userInputOnChange,maxLength:a.length+5,className:v()(S.a.textBox,i?S.a.hasTypo:""),id:"text-box",size:"large",autoCorrect:"off",autoComplete:"off",autoCapitalize:"off"}))}},{key:"renderTicker",value:function(){var e=this.state,t=e.raceStatus,r=e.remainingTime,n=this.getRaceStats().wpm,a=null,o=null;return"IDLE"!==t&&(a=c.a.createElement(l.a,{span:12,className:S.a.time},c.a.createElement(y.a,null)," ",c.a.createElement(Q,{seconds:r})),o=c.a.createElement(l.a,{span:12,className:S.a.meter},c.a.createElement(h.a,null)," ",n," wpm")),[T.ONGOING,T.END].includes(t)?c.a.createElement(f.a,{className:S.a.ticker},a,o):null}},{key:"render",value:function(){var e=T.ONGOING,t=T.COUNTDOWN,r=T.END,n=this.state,a=n.words,o=n.wordsCompleted,s=n.countDownTimer,i=n.raceStatus,u=n.historyRefresh,y=null;i===r&&(y=a.length===o.length?c.a.createElement(p.a,{className:"text-center mb-3",type:"success",message:"Awesome, you completed the game!"}):c.a.createElement(p.a,{className:"text-center mb-3",type:"info",message:"Sorry, you ran out of time."}));var h=i!==r?"Start Race":"Start a New Race";return c.a.createElement(R.a,null,c.a.createElement(f.a,{align:"top"},c.a.createElement(l.a,{xl:12,lg:24},c.a.createElement("div",{className:v()(S.a.raceBox)},y,c.a.createElement("div",{className:"text-center mb-4"},![e,t].includes(i)&&c.a.createElement(m.a,{onClick:this.initRace,className:S.a.startBtn,size:"large",type:"primary"},h),!!s&&c.a.createElement("div",{className:S.a.countDownTimer},O()(x.a,s))),this.renderTicker(),this.renderRaceBox())),c.a.createElement(l.a,{xl:12,lg:24},c.a.createElement(ye,null),c.a.createElement(J,{refresh:u}))))}}])&&Ee(t.prototype,r),b}(o.PureComponent);Ne.defaultProps={raceTimeLimit:x.f,raceCountdown:x.e},t.default=g()([d.g,Object(N.b)((function(e){return{user:e.user}}))])(Ne)},701:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(116),c=r(26),s=r(1031),i=r(908),u=r(704),l=r.n(u),f=r(57),p=r(702),m=r.n(p),y=r(117);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=s.a.Header,O=s.a.Content,E=s.a.Footer,S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(c,e);var t,r,n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g(e);if(t){var a=g(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return j(this,r)}}(c);function c(){return d(this,c),n.apply(this,arguments)}return t=c,(r=[{key:"render",value:function(){var e=this.props,t=e.children,r=e.isAuthenticated?[{link:f.a.home,label:"Home"},{link:f.a.race,label:"Race"},{link:f.a.logout,label:"Logout"}]:[{link:f.a.login,label:"Login"}];return a.a.createElement(s.a,{className:m.a.layout},a.a.createElement(w,null,a.a.createElement("div",{className:m.a.logo},"TypeRacer"),a.a.createElement(i.a,{theme:"dark",mode:"horizontal",className:m.a.menu},r.map((function(e,t){return a.a.createElement(i.a.Item,{key:t},a.a.createElement(o.b,{to:e.link},e.label))})))),a.a.createElement(O,{className:m.a.content},t),a.a.createElement(E,{className:"text-center"},"TypeRacer"))}}])&&b(t.prototype,r),c}(n.PureComponent);t.a=l()([c.g,Object(y.b)((function(e){return{isAuthenticated:e.isAuthenticated,user:e.user}}),(function(e){return{logout:e.logout}}))])(S)},702:function(e,t,r){e.exports={layout:"_1dTBE",logo:"ngQN5",menu:"_1XKsq",content:"_1ttGe"}},705:function(e,t,r){"use strict";t.a={auth:"/oauth",raceHistory:"/private/race-history",randomText:"/random-text"}},706:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"d",(function(){return a})),r.d(t,"c",(function(){return o})),r.d(t,"f",(function(){return c})),r.d(t,"e",(function(){return s})),r.d(t,"a",(function(){return i}));var n={client:"M/D/YY hh:mm a z",api:"YYYY-MM-DDTHH:mm:ssZ"},a={internalError:"Something went wrong."},o={notifKey:"GLOBAL_NOTIF"},c=60,s=3,i=["","Go!","Set","Ready"]},709:function(e,t,r){"use strict";var n=r(44),a=r.n(n),o=r(739),c=r.n(o),s=r(198),i=r.n(s),u=r(280),l=r(1040),f=r(705),p=r(706);function m(e,t,r,n,a,o,c){try{var s=e[o](c),i=s.value}catch(e){return void r(e)}s.done?t(i):Promise.resolve(i).then(n,a)}var y=c.a.create({baseURL:"http://localhost:8080/"});y.interceptors.request.use((function(e){var t=localStorage.getItem("accessToken");return t&&(y.unauthorizedNotif=!1,u.a.close(p.c.notifKey),e.headers.Authorization="Bearer ".concat(t)),e})),y.interceptors.response.use((function(e){return e}),function(){var e,t=(e=a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i()(t,"response.status"),i()(t,"response.config.url"),401===r&&f.a.oauthToken,r>=500&&l.a(t),e.abrupt("return",Promise.reject(t));case 5:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function c(e){m(o,n,a,c,s,"next",e)}function s(e){m(o,n,a,c,s,"throw",e)}c(void 0)}))});return function(e){return t.apply(this,arguments)}}()),t.a=y}}]);
//# sourceMappingURL=5.a3d78a041afed8109d7a.js.map